import { Meta } from '@storybook/blocks'
import { Mermaid } from 'mdx-mermaid/Mermaid'
import { JSONTree } from 'react-json-tree'

import * as S from '../styles.ts'
import PropertiesTable from '../../Components/properties-table'
import ReferenceList from '../../Components/reference-list'
import SchemeInfoTable from '../../Components/scheme-info-table'
import LimitsTable from '../../Components/limits-table'
import DaoMethodTable from '../../Components/dao-method-table'

<Meta title="ApplicationModel/PrismaSchemes/User" />

# User

<SchemeInfoTable
  name={'SchemeInfoTable'}
  description={`This is the user's schema.`}
/>

# Schema diagram

<S.MermaidWrapper>
<Mermaid
  chart={`
     classDiagram
     direction RL

     class User:::green

`}
/>

</S.MermaidWrapper>

## Input validation

<JSONTree
  shouldExpandNodeInitially={() => true}
  data={{
    id: `61e00d7493018a0682abc5b5`,
    firstName: `Radek`,
    surName: `NovÃ¡k`,
    nickName: `Radek56445`,
    password: `$2a$10$IoMbzUX.xEnvlivzBwg.zuU253n1FqU7Qsvex6uL5PTc/93Aa3H6O`,
    createdAt: `2023-06-06T16:08:51.915+00:00`,
    type: `ADMIN`,
  }}
/>

<LimitsTable
  values={{
    maxNoi: 'unlimited',
  }}
/>

<DaoMethodTable
  tableRows={[
    { name: 'countUsers', type: "(searchUserString: string) => user",description: "returns the number of users who match the search parameters" },
    { name: 'countByFirstnameAndSurname', type: "(firstString: string, secondString: string) => number", description: "returns the number of users who match the search parameters" },
    { name: 'listUsersByFirstnameAndSurname', type: "(firstString: string,  secondString: string,  limit: number,  cursor: number) => user[]", description: "returns a list to the user" },

    { name: 'listUsers', type: "(searchUserString:string, limit: number, cursor: number) => user[]", description: "returns a list to the user" },
    { name: 'getUserByName', type: "(nickName: string) => user", description: "Will return the user based on the provided name" },

    { name: 'getUserById', type: "(userId: string) => user", description: "Will return the user based on the provided id" },
    { name: 'createUser', type: "(userData: user) => user", description: "Creates a user" },
    { name: 'deleteUser', type: "(id: user) => user", description: "Deletes a user" },

]}
/>
